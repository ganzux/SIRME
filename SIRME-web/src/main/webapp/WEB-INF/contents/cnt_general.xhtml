<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:component
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:sec="http://www.springframework.org/security/facelets/tags"
    xmlns:p="http://primefaces.org/ui">

		<h:form id="form">
			
			<p:panel>
					 <h:outputText value="#{msg['web.title']}"></h:outputText>
					 <img class="customer" />
			</p:panel>
			
			<p:spacer></p:spacer>
			<br></br>
			
			<p:outputPanel style="float:left">
				<p:commandButton value="Prueba" action="#{dattiaBlankBean.doPrueba}" update=":form:tabla" />
			</p:outputPanel>

			<p:dataGrid var="d" value="#{dattiaBlankBean.dummies}" columns="3" id="tabla"
				rows="12" paginator="true"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				rowsPerPageTemplate="9,12,15">

		        <p:panel header="#{d.idDummy}" style="text-align:center">
		            <h:panelGrid columns="1" style="width:100%">
		                <h:outputText value="#{d.textDummy}" />

		                <p:commandLink update=":form:detail" oncomplete="PF('dialog').show()" title="View Detail">
		                    <h:outputText styleClass="ui-icon ui-icon-search" style="margin:0 auto;" /> 
		                    <f:setPropertyActionListener value="#{d}" target="#{dattiaBlankBean.selectedDummy}" />
		                </p:commandLink>
		            </h:panelGrid>
		        </p:panel>

			</p:dataGrid>

			<p:dialog header="Dummy Detail" widgetVar="dialog" modal="true">
				<p:outputPanel id="detail" style="text-align:center;">
					<h:outputText value="#{dattiaBlankBean.selectedDummy.textDummy}" />
				</p:outputPanel>
			</p:dialog>
		
	</h:form>

</ui:component>